#-----------------------------------------------------------------------------------
#
# Pacote requerido para rodar ython
#
#-----------------------------------------------------------------------------------

install.packages("reticulate")

library(reticulate)

#-----------------------------------------------------------------------------------
#
# Importando o Pandas
#
#-----------------------------------------------------------------------------------

import pandas as pd

#-----------------------------------------------------------------------------------
#
# Importando a Base de Dados
#
#-----------------------------------------------------------------------------------

base = pd.read_csv('credit_data.csv')

#-----------------------------------------------------------------------------------
#
# Sumário dos Dados
#
#-----------------------------------------------------------------------------------

base.describe()

#-----------------------------------------------------------------------------------
#
# Lisando números negaivos
#
#-----------------------------------------------------------------------------------

base.loc[base['age'] < 0]

#-----------------------------------------------------------------------------------
#
# Preencher os valores negativos com a média dos valores positivos da coluna Age
#
#-----------------------------------------------------------------------------------

base.mean()
base['age'].mean()
base['age'][base.age > 0].mean()
base.loc[base.age < 0, 'age'] = 40.92

#-----------------------------------------------------------------------------------
#
# Preencher os valores nulos
#
#-----------------------------------------------------------------------------------

pd.isnull(base['age'])
base.loc[pd.isnull(base['age'])]

#-----------------------------------------------------------------------------------
#
# Definindo e armazenando os atributos previsores
#
#-----------------------------------------------------------------------------------

previsores = base.iloc[:, 1:4].values

#-----------------------------------------------------------------------------------
#
# Definindo e armazenando os atributos Classes
#
#-----------------------------------------------------------------------------------

classe = base.iloc[:, 4].values

#-----------------------------------------------------------------------------------
#
# Executando o Pré-processamento
#
#-----------------------------------------------------------------------------------

from sklearn.preprocessing import Imputer
imputer = Imputer(missing_values='NaN', strategy='mean', axis=0)
imputer = imputer.fit(previsores[:, 0:3])
previsores[:,0:3] = imputer.transform(previsores[:,0:3])

#-----------------------------------------------------------------------------------
#
# Executando o Escalonamento 
#
#-----------------------------------------------------------------------------------

from sklearn.preprocessing import StandardScaler
scaler = StandardScaler()
previsores = scaler.fit_transform(previsores)

